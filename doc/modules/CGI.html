<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Mail::Toaster::CGI</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@omen.apple.com" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#subroutines">SUBROUTINES</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#todo">TODO</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#copyright_and_license">COPYRIGHT AND LICENSE</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Mail::Toaster::CGI - a CGI application for logging into the various web components of a Mail Toaster.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>A cgi application and HTML template for a standard mail page.</p>
<p>This module contains the subroutines that are used by index.cgi. They're named well so you should have no problems reading through index.cgi and understanding exactly what it's doing.</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>see index.cgi for a more complete description. The web pages are fully customizable as the index.tmpl is an HTML::Template file, which is almost pure HTML.</p>
<p>
</p>
<hr />
<h1><a name="subroutines">SUBROUTINES</a></h1>
<dl>
<dt><strong><a name="item_new">new</a></strong>

<dd>
<pre>
        use Mail::Toaster::CGI;
        my $toaster_cgi = Mail::Toaster::CGI-&gt;new();</pre>
</dd>
<dd>
<p>Once you have a Mail::Toaster::CGI object, you can call any of the following methods.</p>
</dd>
<dt><strong><a name="item_instructions">instructions</a></strong>

<dd>
<p>Displays the end user instructions displayed on the web page. Uses values from toaster.conf.</p>
</dd>
<dd>
<pre>
    $toaster_cgi-&gt;instructions($conf);</pre>
</dd>
</li>
<dt><strong><a name="item_logo">logo</a></strong>

<dd>
<p>Displays the logo using the URL and alt data from toaster.conf.</p>
</dd>
<dd>
<pre>
    $toaster_cgi-&gt;logo($conf);</pre>
</dd>
</li>
<dt><strong><a name="item_heading">heading</a></strong>

<dd>
<p>Displays the HTML heading using the data from toaster.conf.</p>
</dd>
<dd>
<pre>
    $toaster_cgi-&gt;heading($conf);</pre>
</dd>
</li>
<dt><strong><a name="item_imp_submit">imp_submit</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;imp_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection.  $host is the hostname to submit the form to.</p>
</dd>
<dt><strong><a name="item_vwebmail_submit">vwebmail_submit</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;vwebmail_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection.  $host is the hostname to submit the form to.</p>
</dd>
<dt><strong><a name="item_qss_stats_submit">qss_stats_submit</a></strong>

<dd>
<pre>
    $toaster_cgi-&gt;qss_stats_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>Generate the HTML code that renders the Qmail Scanner Statistics table and form that you see in index.cgi.</p>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection, $host is the hostname to submit the form to, and $path is the path to isoqlog on the remote server. A typical invocation might look like this:</p>
</dd>
<dd>
<pre>
    $toaster_cgi-&gt;qss_stats_submit($conf, 1, &quot;matt.cadillac.net&quot; );</pre>
</dd>
<dt><strong><a name="item_isoqlog_submit">isoqlog_submit</a></strong>

<dd>
<pre>
        use Mail::Toaster::CGI;
        isoqlog_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>Generate the HTML code that renders the Isoqlog table and form that you see in index.cgi.</p>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection, $host is the hostname to submit the form to. A typical invocation might look like this:</p>
</dd>
<dd>
<pre>
        isoqlog_submit($conf, 1, &quot;matt.cadillac.net&quot;);</pre>
</dd>
<dt><strong><a name="item_rrdutil_submit">rrdutil_submit</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;rrdutil_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>Generate the HTML code that renders the table and embedded form that you see in index.cgi.</p>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection. $host is the hostname to submit the form to.</p>
</dd>
<dt><strong><a name="item_cookies_expire">cookies_expire</a></strong>

<dd>
<p>Very simple use of CGI's cookie method. To expire the cookie we just set it's expiration to a negative value.</p>
</dd>
</li>
<dt><strong><a name="item_qmailadmin_submit">qmailadmin_submit</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;qmailadmin_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection.  $host is the hostname to submit the form to.</p>
</dd>
<dt><strong><a name="item_sqwebmail_submit">sqwebmail_submit</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;sqwebmail_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection.  $host is the hostname to submit the form to.</p>
</dd>
<dt><strong><a name="item_squirrelmail_submit">squirrelmail_submit</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;squirrelmail_submit($conf, $ssl, $host);</pre>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection.  $host is the hostname to submit the form to.  $path is the installed URL path on the server.</p>
</dd>
<dt><strong><a name="item_cookies_set">cookies_set</a></strong>

<dd>
<p>Very simple use of CGI's cookie method. We save a cookie with the users email address and another one for for whether they selected Use SSL.</p>
</dd>
</li>
<dt><strong><a name="item_ssl_line">ssl_line</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;ssl_line($ssl, $editable);</pre>
</dd>
<dd>
<p>$ssl is a binary value, representing whether the form URL should be http or https, based on the users selection.  $editable is a binary value, determining if the SSL preference is available or not.</p>
</dd>
<dt><strong><a name="item_cookie_line">cookie_line</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;cookie_line($save);</pre>
</dd>
<dd>
<p>$save is a binary value, are the users settings saved or not?</p>
</dd>
<dt><strong><a name="item_email_line">email_line</a></strong>

<dd>
<pre>
        $toaster_cgi-&gt;email_line($address, $editable);</pre>
</dd>
<dd>
<p>$address is the email address to display in the form.</p>
</dd>
<dd>
<p>$editable is whether or not the address field is editable.</p>
</dd>
<dt><strong><a name="item_process_shell">process_shell</a></strong>

<dd>
<p>Since we're a CGI app, we don't expect to be run from the command line except to test. This little sub just lets you know everything that was supposed to load did and that the CGI should work right.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Matt Simerson &lt;<a href="mailto:matt@tnpi.net">matt@tnpi.net</a>&gt;</p>
<p>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>None known. Report any to author.</p>
<p>
</p>
<hr />
<h1><a name="todo">TODO</a></h1>
<p>TODO is caught up. Yay!</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>The following are all man/perldoc pages:</p>
<pre>
 Mail::Toaster 
 Mail::Toaster::Conf
 toaster.conf
 toaster-watcher.conf</pre>
<pre>
 <a href="http://matt.simerson.net/computing/mail/toaster/">http://matt.simerson.net/computing/mail/toaster/</a></pre>
<p>
</p>
<hr />
<h1><a name="copyright_and_license">COPYRIGHT AND LICENSE</a></h1>
<p>Copyright (c) 2004-2006, The Network People, Inc.  All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p>
<p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p>
<p>Neither the name of the The Network People, Inc. nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

</body>

</html>
